<?xml version="1.0" encoding="utf-8" ?>
<ContentPage
    x:Class="CoffeeShopApplication.FavoritePage"
    xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
    xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
    xmlns:controls="clr-namespace:CoffeeShopApplication.Controls"
    xmlns:local="clr-namespace:CoffeeShopApplication"
    Title=""
    BackgroundColor="White">

    <Grid RowDefinitions="Auto,*,Auto">

        <!--  Search Bar  -->
        <StackLayout Padding="15,20,15,10">
            <Border BackgroundColor="#F4F4F4" StrokeShape="RoundRectangle 20">
                <SearchBar
                    BackgroundColor="White"
                    CancelButtonColor="#CB8A58"
                    FontSize="14"
                    HeightRequest="45"
                    Placeholder="Search .." />
            </Border>
        </StackLayout>

        <!--  Favorite Items List  -->
        <ScrollView Grid.Row="1">
            <VerticalStackLayout Padding="15" Spacing="10">
                <CollectionView ItemsSource="{Binding MenuItems}" SelectionMode="None">
                    <CollectionView.ItemTemplate>
                        <DataTemplate>
                            <SwipeView>
                                <SwipeView.RightItems>
                                    <SwipeItems Mode="Reveal">
                                        <SwipeItem
                                            BackgroundColor="White"
                                            Command="{Binding DeleteCommand}"
                                            IconImageSource="trash_icon.png" />
                                    </SwipeItems>
                                </SwipeView.RightItems>

                                <Border
                                    Padding="10"
                                    BackgroundColor="White"
                                    Stroke="#E5E5E5"
                                    StrokeShape="RoundRectangle 15"
                                    StrokeThickness="1">

                                    <Grid
                                        ColumnDefinitions="Auto,*,Auto"
                                        ColumnSpacing="12"
                                        VerticalOptions="Center">

                                        <!--  Image  -->
                                        <Image
                                            HeightRequest="60"
                                            Source="{Binding Image}"
                                            VerticalOptions="Center"
                                            WidthRequest="60" />

                                        <!--  Text Info  -->
                                        <VerticalStackLayout Grid.Column="1" VerticalOptions="Center">
                                            <Label
                                                FontAttributes="Bold"
                                                FontSize="16"
                                                Text="{Binding Name}"
                                                TextColor="Black" />
                                            <Label
                                                FontSize="14"
                                                Text="{Binding Price, StringFormat='{}{0} AMD'}"
                                                TextColor="Gray" />
                                        </VerticalStackLayout>
                                    </Grid>
                                </Border>
                            </SwipeView>
                        </DataTemplate>
                    </CollectionView.ItemTemplate>
                </CollectionView>
            </VerticalStackLayout>
        </ScrollView>

        <!--  Bottom Navigation Bar (Already created, just add here)  -->
        <!--<controls:BottomNavBar Grid.Row="2"/>-->
    </Grid>
</ContentPage>
